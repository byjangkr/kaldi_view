#!/bin/bash

# view lda matrix
copy-matrix --binary=false lda.mat lda_txt.mat

: << 'LDAMAT'
 [
  0.02522855 0.01642815 -0.001381412 -0.002179872 0.0009698211 0.001651382 0.0001936288 -0.0004751951 -0.0006865394 -0.0007675815 8.120955e-05 -8.68006e-05 -6.197607e-05 -0.0001037772 -0.0005061702 -0.0004665368 -8.757104e-05 -0.000480239 -3.602619e-05 -0.0002986062 -2.225973e-05 -0.0009805855 0.002374977 0.002365113 -0.003993598 -0.001338709 -0.001589986 -0.0002375941 -0.0007006499 0.0003676756 -0.0003719111 0.0006329424 0.0001166913 0.001338777 -8.459722e-05 0.0006438015 -0.0004680127 -0.0002036924 -0.0007567091 -0.0001977822 0.005163487 0.005721337 -0.001356375
                                       .
                                       .
                                       .
0.0002511421 0.0014296 0.000438859 0.0001641584 -0.00048924 0.0002855602 0.0006868296 0.001682889 -0.0005048577 0.0002029822 -0.00110888 -0.001222668 -0.0002757365 -6.626768e-05 -0.001488462 0.002226302 0.001857357 -0.000253297 -0.0003518212 -0.0001088732 0.002622631 0.0002816156 0.0002209745 0.001319382 -0.002646718 0.003111272 0.00114111 0.0001134943 0.006287528 -0.001341194 -0.006045919 -0.0005638511 0.001192739 ]
LDAMAT

# view apply lda
transform-feats lda.mat ark:feats.ark ark,t:feats_lda.ark

: << 'LDAFEAT'
fe_03_09764-B-008030-009524-1312  [ 
  68.4845 -51.04058 -35.078 6.306099 -48.748 -19.56422 -13.09037 -33.623 -12.38844 1.416442 -9.327385 12.06536 25.74564 -18.29139 -4.037415 11.04691 4.090379 12.38203 2.535605 -2.197256 -1.541983 2.721316 -1.255109 0.7687988 0.1549466 -1.927368 -0.2264605 3.221782 -0.4919335 -3.74149 0.308367 1.15941 1.427944 -2.380154 -0.8803127 -1.547172
                                   
                                   ->

fe_03_09764-B-008030-009524-1312  [
  -3.059371 0.606576 0.3853172 -0.7935231 -1.036709 0.1050929 0.9630375 0.3995087 -0.4530801 -0.4427158 -0.3690514 0.2034775 0.4234787 -0.1181592 -0.1565915 0.3194286 0.419244 -0.6368965 0.3545566 0.1215491 -0.04583963 0.04067667 0.0009828508 0.148992 0.2683652 0.04329885 0.1228866 0.1382837 0.6059393 0.1297969 -0.1195784 -0.04459304 -0.1393283 -0.1853705 -0.1350833 -0.03432773 0.006110817 0.2680511 0.001919754

LDAFEAT

rm -f lda_txt.mat
